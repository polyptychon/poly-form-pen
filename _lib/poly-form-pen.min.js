!function e(n,t,r){function i(u,a){if(!t[u]){if(!n[u]){var l="function"==typeof require&&require;if(!a&&l)return l(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[u]={exports:{}};n[u][0].call(f.exports,function(e){var t=n[u][1][e];return i(t?t:e)},f,f.exports,e,n,t,r)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,n){(function(t){var r;jQuery||(t.$=t.jQuery=r=e("jquery")),("undefined"==typeof angular||null===angular)&&e("angular/angular"),e("pen"),n.exports=angular.module("poly-form-pen",[]).directive("pen",e("./directives/sofish-pen/Pen.coffee"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/sofish-pen/Pen.coffee":2,"angular/angular":"angular/angular",jquery:"jquery",pen:7}],2:[function(e,n){var t,r,i;t=jQuery?jQuery:e("jquery"),i=e("lodash"),r=e("animationframe"),e("pen"),n.exports=function(){return{restrict:"EA",template:e("./pen.jade"),replace:!0,transclude:!0,require:"?ngModel",scope:{},compile:function(e){var n,o;return o=e.context.placeholder,n="PEN"===e.context.nodeName,function(e,u,a,l){var c,f,s,p,h,d,g,v;return null==o&&(o=a.placeholder),e.useEditButton=null!=a.useEditButton&&"false"!==a.useEditButton,e.isEditable=!n||null!=a.isEditable&&"false"!==a.isEditable,a.rows&&u.height(19*parseInt(a.rows)),c=n?u[0].querySelector(".pen-panel"):u[0],h={editor:c,list:["blockquote","h1","h2","h3","h4","h5","p","insertorderedlist","insertunorderedlist","indent","outdent","bold","italic","underline","createlink"],stay:null!=a.stay},null!=a.value&&null!=a.pen&&t(c).html(a.value),null!=a.escape&&t(c).html(i.escape(t(c).html())),d=new Pen(h),null!=o&&d.placeholder(o),v=function(e){return e?(u.addClass("active"),d.rebuild(),null!=l?d.on("input",p):void 0):(u.removeClass("active"),d.destroy())},f=function(){return null!=a.escape?i.unescape(d.getContent()):i.escape(d.getContent())},g=function(e){return d._placeholder=null,null==e&&t(".pen-menu").hide(),null!=a.escape?d.setContent(i.escape(e)):d.setContent(i.unescape(e))},r(function(){return v(e.isEditable),u.find("#mode").on("click",function(){return v(!t(this).hasClass("active"))})}),null!=l?(l.$setViewValue(f()),s=!1,p=function(){return s=!0,l.$setViewValue(i.unescape(f())),l.$render()},d.on("input",p),e.$watch(function(){return l.$viewValue},function(e,n){return null==e&&d.rebuild(),e===n||s||r(function(){return g(e)}),s=!1})):void 0}}}}},{"./pen.jade":3,animationframe:4,jquery:"jquery",lodash:6,pen:7}],3:[function(e,n){e("jade/runtime");n.exports=function(){var e=[];return e.push('<div class="pen-container"><div ng-if="useEditButton" class="row"><div class="col-md-12"><div id="mode" ng-class="{active: isEditable}" data-toggle="button" style="position:absolute; right:15px;" class="btn btn-default btn-xs pull-right glyphicon glyphicon-pencil"></div></div></div><div data-toggle="pen" data-placeholder="im a placeholder" ng-transclude="ng-transclude" class="pen-panel"></div></div>'),e.join("")}},{"jade/runtime":5}],4:[function(e,n,t){(function(e){"use strict";var r;r="object"==typeof t&&"object"==typeof n?e:window;var i=function(){return r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(e){r.setTimeout(e,1e3/60)}}();"object"==typeof t&&"object"==typeof n?n.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):window.requestAnimFrame=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,n,t){(function(r){!function(e){if("object"==typeof t)n.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof r?i=r:"undefined"!=typeof self&&(i=self),i.jade=e()}}(function(){return function n(t,r,i){function o(a,l){if(!r[a]){if(!t[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(u)return u(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,n,t,r,i)}return r[a].exports}for(var u="function"==typeof e&&e,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,t){"use strict";function r(e){return null!=e&&""!==e}function i(e){return Array.isArray(e)?e.map(i).filter(r).join(" "):e}t.merge=function o(e,n){if(1===arguments.length){for(var t=e[0],i=1;i<e.length;i++)t=o(t,e[i]);return t}var u=e["class"],a=n["class"];(u||a)&&(u=u||[],a=a||[],Array.isArray(u)||(u=[u]),Array.isArray(a)||(a=[a]),e["class"]=u.concat(a).filter(r));for(var l in n)"class"!=l&&(e[l]=n[l]);return e},t.joinClasses=i,t.cls=function(e,n){for(var r=[],o=0;o<e.length;o++)n&&n[o]?r.push(t.escape(i([e[o]]))):r.push(i(e[o]));var u=i(r);return u.length?' class="'+u+'"':""},t.attr=function(e,n,r,i){return"boolean"==typeof n||null==n?n?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof n?" "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'":r?" "+e+'="'+t.escape(n)+'"':" "+e+'="'+n+'"'},t.attrs=function(e,n){var r=[],o=Object.keys(e);if(o.length)for(var u=0;u<o.length;++u){var a=o[u],l=e[a];"class"==a?(l=i(l))&&r.push(" "+a+'="'+l+'"'):r.push(t.attr(a,l,!1,n))}return r.join("")},t.escape=function(e){var n=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return n===""+e?e:n},t.rethrow=function u(n,t,r,i){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&t||i))throw n.message+=" on line "+r,n;try{i=i||e("fs").readFileSync(t,"utf8")}catch(o){u(n,null,r)}var a=3,l=i.split("\n"),c=Math.max(r-a,0),f=Math.min(l.length,r+a),a=l.slice(c,f).map(function(e,n){var t=n+c+1;return(t==r?"  > ":"    ")+t+"| "+e}).join("\n");throw n.path=t,n.message=(t||"Jade")+":"+r+"\n"+a+"\n\n"+n.message,n}},{fs:2}],2:[function(){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,n,t){(function(e){(function(){function r(e,n,t){for(var r=(t||0)-1,i=e?e.length:0;++r<i;)if(e[r]===n)return r;return-1}function i(e,n){var t=typeof n;if(e=e.cache,"boolean"==t||null==n)return e[n]?0:-1;"number"!=t&&"string"!=t&&(t="object");var i="number"==t?n:_+n;return e=(e=e[t])&&e[i],"object"==t?e&&r(e,n)>-1?0:-1:e?0:-1}function o(e){var n=this.cache,t=typeof e;if("boolean"==t||null==e)n[e]=!0;else{"number"!=t&&"string"!=t&&(t="object");var r="number"==t?e:_+e,i=n[t]||(n[t]={});"object"==t?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function u(e){return e.charCodeAt(0)}function a(e,n){for(var t=e.criteria,r=n.criteria,i=-1,o=t.length;++i<o;){var u=t[i],a=r[i];if(u!==a){if(u>a||"undefined"==typeof u)return 1;if(a>u||"undefined"==typeof a)return-1}}return e.index-n.index}function l(e){var n=-1,t=e.length,r=e[0],i=e[t/2|0],u=e[t-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&u&&"object"==typeof u)return!1;var a=s();a["false"]=a["null"]=a["true"]=a.undefined=!1;var l=s();for(l.array=e,l.cache=a,l.push=o;++n<t;)l.push(e[n]);return l}function c(e){return"\\"+J[e]}function f(){return y.pop()||[]}function s(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function p(e){e.length=0,y.length<C&&y.push(e)}function h(e){var n=e.cache;n&&h(n),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<C&&m.push(e)}function d(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,i=t-n||0,o=Array(0>i?0:i);++r<i;)o[r]=e[n+r];return o}function g(e){function n(e){return e&&"object"==typeof e&&!Yr(e)&&Or.call(e,"__wrapped__")?e:new t(e)}function t(e,n){this.__chain__=!!n,this.__wrapped__=e}function o(e){function n(){if(r){var e=d(r);$r.apply(e,arguments)}if(this instanceof n){var o=m(t.prototype),u=t.apply(o,e||arguments);return Ln(u)?u:o}return t.apply(i,e||arguments)}var t=e[0],r=e[2],i=e[4];return Xr(n,e),n}function y(e,n,t,r,i){if(t){var o=t(e);if("undefined"!=typeof o)return o}var u=Ln(e);if(!u)return e;var a=Ar.call(e);if(!U[a])return e;var l=Gr[a];switch(a){case F:case I:return new l(+e);case H:case W:return new l(e);case V:return o=l(e.source,N.exec(e)),o.lastIndex=e.lastIndex,o}var c=Yr(e);if(n){var s=!r;r||(r=f()),i||(i=f());for(var h=r.length;h--;)if(r[h]==e)return i[h];o=c?l(e.length):{}}else o=c?d(e):oi({},e);return c&&(Or.call(e,"index")&&(o.index=e.index),Or.call(e,"input")&&(o.input=e.input)),n?(r.push(e),i.push(o),(c?Xn:li)(e,function(e,u){o[u]=y(e,n,t,r,i)}),s&&(p(r),p(i)),o):o}function m(e){return Ln(e)?Ir(e):{}}function C(e,n,t){if("function"!=typeof e)return Yt;if("undefined"==typeof n||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Jr.funcNames&&(r=!e.name),r=r||!Jr.funcDecomp,!r)){var i=qr.call(e);Jr.funcNames||(r=!T.test(i)),r||(r=S.test(i),Xr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return $t(e,n)}function J(e){function n(){var e=l?u:this;if(i){var h=d(i);$r.apply(h,arguments)}if((o||f)&&(h||(h=d(arguments)),o&&$r.apply(h,o),f&&h.length<a))return r|=16,J([t,s?r:-4&r,h,null,u,a]);if(h||(h=arguments),c&&(t=e[p]),this instanceof n){e=m(t.prototype);var g=t.apply(e,h);return Ln(g)?g:e}return t.apply(e,h)}var t=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],l=1&r,c=2&r,f=4&r,s=8&r,p=t;return Xr(n,e),n}function Y(e,n){var t=-1,o=cn(),u=e?e.length:0,a=u>=w&&o===r,c=[];if(a){var f=l(n);f?(o=i,n=f):a=!1}for(;++t<u;){var s=e[t];o(n,s)<0&&c.push(s)}return a&&h(n),c}function Z(e,n,t,r){for(var i=(r||0)-1,o=e?e.length:0,u=[];++i<o;){var a=e[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Yr(a)||hn(a))){n||(a=Z(a,n,t));var l=-1,c=a.length,f=u.length;for(u.length+=c;++l<c;)u[f++]=a[l]}else t||u.push(a)}return u}function en(e,n,t,r,i,o){if(t){var u=t(e,n);if("undefined"!=typeof u)return!!u}if(e===n)return 0!==e||1/e==1/n;var a=typeof e,l=typeof n;if(!(e!==e||e&&G[a]||n&&G[l]))return!1;if(null==e||null==n)return e===n;var c=Ar.call(e),s=Ar.call(n);if(c==B&&(c=z),s==B&&(s=z),c!=s)return!1;switch(c){case F:case I:return+e==+n;case H:return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case V:case W:return e==Cr(n)}var h=c==D;if(!h){var d=Or.call(e,"__wrapped__"),g=Or.call(n,"__wrapped__");if(d||g)return en(d?e.__wrapped__:e,g?n.__wrapped__:n,t,r,i,o);if(c!=z)return!1;var v=e.constructor,y=n.constructor;if(v!=y&&!(Rn(v)&&v instanceof v&&Rn(y)&&y instanceof y)&&"constructor"in e&&"constructor"in n)return!1}var m=!i;i||(i=f()),o||(o=f());for(var b=i.length;b--;)if(i[b]==e)return o[b]==n;var _=0;if(u=!0,i.push(e),o.push(n),h){if(b=e.length,_=n.length,u=_==b,u||r)for(;_--;){var w=b,C=n[_];if(r)for(;w--&&!(u=en(e[w],C,t,r,i,o)););else if(!(u=en(e[_],C,t,r,i,o)))break}}else ai(n,function(n,a,l){return Or.call(l,a)?(_++,u=Or.call(e,a)&&en(e[a],n,t,r,i,o)):void 0}),u&&!r&&ai(e,function(e,n,t){return Or.call(t,n)?u=--_>-1:void 0});return i.pop(),o.pop(),m&&(p(i),p(o)),u}function nn(e,n,t,r,i){(Yr(n)?Xn:li)(n,function(n,o){var u,a,l=n,c=e[o];if(n&&((a=Yr(n))||ci(n))){for(var f=r.length;f--;)if(u=r[f]==n){c=i[f];break}if(!u){var s;t&&(l=t(c,n),(s="undefined"!=typeof l)&&(c=l)),s||(c=a?Yr(c)?c:[]:ci(c)?c:{}),r.push(n),i.push(c),s||nn(c,n,t,r,i)}}else t&&(l=t(c,n),"undefined"==typeof l&&(l=n)),"undefined"!=typeof l&&(c=l);e[o]=c})}function rn(e,n){return e+Lr(Qr()*(n-e+1))}function on(e,n,t){var o=-1,u=cn(),a=e?e.length:0,c=[],s=!n&&a>=w&&u===r,d=t||s?f():c;if(s){var g=l(d);u=i,d=g}for(;++o<a;){var v=e[o],y=t?t(v,o,e):v;(n?!o||d[d.length-1]!==y:u(d,y)<0)&&((t||s)&&d.push(y),c.push(v))}return s?(p(d.array),h(d)):t&&p(d),c}function un(e){return function(t,r,i){var o={};r=n.createCallback(r,i,3);var u=-1,a=t?t.length:0;if("number"==typeof a)for(;++u<a;){var l=t[u];e(o,l,r(l,u,t),t)}else li(t,function(n,t,i){e(o,n,r(n,t,i),i)});return o}}function an(e,n,t,r,i,u){var a=1&n,l=2&n,c=4&n,f=16&n,s=32&n;if(!l&&!Rn(e))throw new xr;f&&!t.length&&(n&=-17,f=t=!1),s&&!r.length&&(n&=-33,s=r=!1);var p=e&&e.__bindData__;if(p&&p!==!0)return p=d(p),p[2]&&(p[2]=d(p[2])),p[3]&&(p[3]=d(p[3])),!a||1&p[1]||(p[4]=i),!a&&1&p[1]&&(n|=8),!c||4&p[1]||(p[5]=u),f&&$r.apply(p[2]||(p[2]=[]),t),s&&Dr.apply(p[3]||(p[3]=[]),r),p[1]|=n,an.apply(null,p);var h=1==n||17===n?o:J;return h([e,n,t,r,i,u])}function ln(e){return ni[e]}function cn(){var e=(e=n.indexOf)===mt?r:e;return e}function fn(e){return"function"==typeof e&&Nr.test(e)}function sn(e){var n,t;return e&&Ar.call(e)==z&&(n=e.constructor,!Rn(n)||n instanceof n)?(ai(e,function(e,n){t=n}),"undefined"==typeof t||Or.call(e,t)):!1}function pn(e){return ti[e]}function hn(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ar.call(e)==B||!1}function dn(e,n,t,r){return"boolean"!=typeof n&&null!=n&&(r=t,t=n,n=!1),y(e,n,"function"==typeof t&&C(t,r,1))}function gn(e,n,t){return y(e,!0,"function"==typeof n&&C(n,t,1))}function vn(e,n){var t=m(e);return n?oi(t,n):t}function yn(e,t,r){var i;return t=n.createCallback(t,r,3),li(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function mn(e,t,r){var i;return t=n.createCallback(t,r,3),_n(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function bn(e,n,t){var r=[];ai(e,function(e,n){r.push(n,e)});var i=r.length;for(n=C(n,t,3);i--&&n(r[i--],r[i],e)!==!1;);return e}function _n(e,n,t){var r=ei(e),i=r.length;for(n=C(n,t,3);i--;){var o=r[i];if(n(e[o],o,e)===!1)break}return e}function wn(e){var n=[];return ai(e,function(e,t){Rn(e)&&n.push(t)}),n.sort()}function Cn(e,n){return e?Or.call(e,n):!1}function xn(e){for(var n=-1,t=ei(e),r=t.length,i={};++n<r;){var o=t[n];i[e[o]]=o}return i}function kn(e){return e===!0||e===!1||e&&"object"==typeof e&&Ar.call(e)==F||!1}function jn(e){return e&&"object"==typeof e&&Ar.call(e)==I||!1}function En(e){return e&&1===e.nodeType||!1}function An(e){var n=!0;if(!e)return n;var t=Ar.call(e),r=e.length;return t==D||t==W||t==B||t==z&&"number"==typeof r&&Rn(e.splice)?!r:(li(e,function(){return n=!1}),n)}function Nn(e,n,t,r){return en(e,n,"function"==typeof t&&C(t,r,2))}function Tn(e){return Hr(e)&&!zr(parseFloat(e))}function Rn(e){return"function"==typeof e}function Ln(e){return!(!e||!G[typeof e])}function qn(e){return On(e)&&e!=+e}function Sn(e){return null===e}function On(e){return"number"==typeof e||e&&"object"==typeof e&&Ar.call(e)==H||!1}function $n(e){return e&&"object"==typeof e&&Ar.call(e)==V||!1}function Mn(e){return"string"==typeof e||e&&"object"==typeof e&&Ar.call(e)==W||!1}function Bn(e){return"undefined"==typeof e}function Dn(e,t,r){var i={};return t=n.createCallback(t,r,3),li(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Fn(e){var n=arguments,t=2;if(!Ln(e))return e;if("number"!=typeof n[2]&&(t=n.length),t>3&&"function"==typeof n[t-2])var r=C(n[--t-1],n[t--],2);else t>2&&"function"==typeof n[t-1]&&(r=n[--t]);for(var i=d(arguments,1,t),o=-1,u=f(),a=f();++o<t;)nn(e,i[o],r,u,a);return p(u),p(a),e}function In(e,t,r){var i={};if("function"!=typeof t){var o=[];ai(e,function(e,n){o.push(n)}),o=Y(o,Z(arguments,!0,!1,1));for(var u=-1,a=o.length;++u<a;){var l=o[u];i[l]=e[l]}}else t=n.createCallback(t,r,3),ai(e,function(e,n,r){t(e,n,r)||(i[n]=e)});return i}function Pn(e){for(var n=-1,t=ei(e),r=t.length,i=dr(r);++n<r;){var o=t[n];i[n]=[o,e[o]]}return i}function Hn(e,t,r){var i={};if("function"!=typeof t)for(var o=-1,u=Z(arguments,!0,!1,1),a=Ln(e)?u.length:0;++o<a;){var l=u[o];l in e&&(i[l]=e[l])}else t=n.createCallback(t,r,3),ai(e,function(e,n,r){t(e,n,r)&&(i[n]=e)});return i}function zn(e,t,r,i){var o=Yr(e);if(null==r)if(o)r=[];else{var u=e&&e.constructor,a=u&&u.prototype;r=m(a)}return t&&(t=n.createCallback(t,i,4),(o?Xn:li)(e,function(e,n,i){return t(r,e,n,i)})),r}function Vn(e){for(var n=-1,t=ei(e),r=t.length,i=dr(r);++n<r;)i[n]=e[t[n]];return i}function Wn(e){for(var n=arguments,t=-1,r=Z(n,!0,!1,1),i=n[2]&&n[2][n[1]]===e?1:r.length,o=dr(i);++t<i;)o[t]=e[r[t]];return o}function Un(e,n,t){var r=-1,i=cn(),o=e?e.length:0,u=!1;return t=(0>t?Wr(0,o+t):t)||0,Yr(e)?u=i(e,n,t)>-1:"number"==typeof o?u=(Mn(e)?e.indexOf(n,t):i(e,n,t))>-1:li(e,function(e){return++r>=t?!(u=e===n):void 0}),u}function Kn(e,t,r){var i=!0;t=n.createCallback(t,r,3);var o=-1,u=e?e.length:0;if("number"==typeof u)for(;++o<u&&(i=!!t(e[o],o,e)););else li(e,function(e,n,r){return i=!!t(e,n,r)});return i}function Qn(e,t,r){var i=[];t=n.createCallback(t,r,3);var o=-1,u=e?e.length:0;if("number"==typeof u)for(;++o<u;){var a=e[o];t(a,o,e)&&i.push(a)}else li(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function Gn(e,t,r){t=n.createCallback(t,r,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var u;return li(e,function(e,n,r){return t(e,n,r)?(u=e,!1):void 0}),u}for(;++i<o;){var a=e[i];if(t(a,i,e))return a}}function Jn(e,t,r){var i;return t=n.createCallback(t,r,3),Yn(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}function Xn(e,n,t){var r=-1,i=e?e.length:0;if(n=n&&"undefined"==typeof t?n:C(n,t,3),"number"==typeof i)for(;++r<i&&n(e[r],r,e)!==!1;);else li(e,n);return e}function Yn(e,n,t){var r=e?e.length:0;if(n=n&&"undefined"==typeof t?n:C(n,t,3),"number"==typeof r)for(;r--&&n(e[r],r,e)!==!1;);else{var i=ei(e);r=i.length,li(e,function(e,t,o){return t=i?i[--r]:--r,n(o[t],t,o)})}return e}function Zn(e,n){var t=d(arguments,2),r=-1,i="function"==typeof n,o=e?e.length:0,u=dr("number"==typeof o?o:0);return Xn(e,function(e){u[++r]=(i?n:e[n]).apply(e,t)}),u}function et(e,t,r){var i=-1,o=e?e.length:0;if(t=n.createCallback(t,r,3),"number"==typeof o)for(var u=dr(o);++i<o;)u[i]=t(e[i],i,e);else u=[],li(e,function(e,n,r){u[++i]=t(e,n,r)});return u}function nt(e,t,r){var i=-1/0,o=i;if("function"!=typeof t&&r&&r[t]===e&&(t=null),null==t&&Yr(e))for(var a=-1,l=e.length;++a<l;){var c=e[a];c>o&&(o=c)}else t=null==t&&Mn(e)?u:n.createCallback(t,r,3),Xn(e,function(e,n,r){var u=t(e,n,r);u>i&&(i=u,o=e)});return o}function tt(e,t,r){var i=1/0,o=i;if("function"!=typeof t&&r&&r[t]===e&&(t=null),null==t&&Yr(e))for(var a=-1,l=e.length;++a<l;){var c=e[a];o>c&&(o=c)}else t=null==t&&Mn(e)?u:n.createCallback(t,r,3),Xn(e,function(e,n,r){var u=t(e,n,r);i>u&&(i=u,o=e)});return o}function rt(e,t,r,i){if(!e)return r;var o=arguments.length<3;t=n.createCallback(t,i,4);var u=-1,a=e.length;if("number"==typeof a)for(o&&(r=e[++u]);++u<a;)r=t(r,e[u],u,e);else li(e,function(e,n,i){r=o?(o=!1,e):t(r,e,n,i)});return r}function it(e,t,r,i){var o=arguments.length<3;return t=n.createCallback(t,i,4),Yn(e,function(e,n,i){r=o?(o=!1,e):t(r,e,n,i)}),r}function ot(e,t,r){return t=n.createCallback(t,r,3),Qn(e,function(e,n,r){return!t(e,n,r)})}function ut(e,n,t){if(e&&"number"!=typeof e.length&&(e=Vn(e)),null==n||t)return e?e[rn(0,e.length-1)]:v;var r=at(e);return r.length=Ur(Wr(0,n),r.length),r}function at(e){var n=-1,t=e?e.length:0,r=dr("number"==typeof t?t:0);return Xn(e,function(e){var t=rn(0,++n);r[n]=r[t],r[t]=e}),r}function lt(e){var n=e?e.length:0;return"number"==typeof n?n:ei(e).length}function ct(e,t,r){var i;t=n.createCallback(t,r,3);var o=-1,u=e?e.length:0;if("number"==typeof u)for(;++o<u&&!(i=t(e[o],o,e)););else li(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function ft(e,t,r){var i=-1,o=Yr(t),u=e?e.length:0,l=dr("number"==typeof u?u:0);for(o||(t=n.createCallback(t,r,3)),Xn(e,function(e,n,r){var u=l[++i]=s();o?u.criteria=et(t,function(n){return e[n]}):(u.criteria=f())[0]=t(e,n,r),u.index=i,u.value=e}),u=l.length,l.sort(a);u--;){var c=l[u];l[u]=c.value,o||p(c.criteria),h(c)}return l}function st(e){return e&&"number"==typeof e.length?d(e):Vn(e)}function pt(e){for(var n=-1,t=e?e.length:0,r=[];++n<t;){var i=e[n];i&&r.push(i)}return r}function ht(e){return Y(e,Z(arguments,!0,!0,1))}function dt(e,t,r){var i=-1,o=e?e.length:0;for(t=n.createCallback(t,r,3);++i<o;)if(t(e[i],i,e))return i;return-1}function gt(e,t,r){var i=e?e.length:0;for(t=n.createCallback(t,r,3);i--;)if(t(e[i],i,e))return i;return-1}function vt(e,t,r){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var u=-1;for(t=n.createCallback(t,r,3);++u<o&&t(e[u],u,e);)i++}else if(i=t,null==i||r)return e?e[0]:v;return d(e,0,Ur(Wr(0,i),o))}function yt(e,n,t,r){return"boolean"!=typeof n&&null!=n&&(r=t,t="function"!=typeof n&&r&&r[n]===e?null:n,n=!1),null!=t&&(e=et(e,t,r)),Z(e,n)}function mt(e,n,t){if("number"==typeof t){var i=e?e.length:0;t=0>t?Wr(0,i+t):t||0}else if(t){var o=At(e,n);return e[o]===n?o:-1}return r(e,n,t)}function bt(e,t,r){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var u=o;for(t=n.createCallback(t,r,3);u--&&t(e[u],u,e);)i++}else i=null==t||r?1:t||i;return d(e,0,Ur(Wr(0,o-i),o))}function _t(){for(var e=[],n=-1,t=arguments.length,o=f(),u=cn(),a=u===r,c=f();++n<t;){var s=arguments[n];(Yr(s)||hn(s))&&(e.push(s),o.push(a&&s.length>=w&&l(n?e[n]:c)))}var d=e[0],g=-1,v=d?d.length:0,y=[];e:for(;++g<v;){var m=o[0];if(s=d[g],(m?i(m,s):u(c,s))<0){for(n=t,(m||c).push(s);--n;)if(m=o[n],(m?i(m,s):u(e[n],s))<0)continue e;y.push(s)}}for(;t--;)m=o[t],m&&h(m);return p(o),p(c),y}function wt(e,t,r){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var u=o;for(t=n.createCallback(t,r,3);u--&&t(e[u],u,e);)i++}else if(i=t,null==i||r)return e?e[o-1]:v;return d(e,Wr(0,o-i))}function Ct(e,n,t){var r=e?e.length:0;for("number"==typeof t&&(r=(0>t?Wr(0,r+t):Ur(t,r-1))+1);r--;)if(e[r]===n)return r;return-1}function xt(e){for(var n=arguments,t=0,r=n.length,i=e?e.length:0;++t<r;)for(var o=-1,u=n[t];++o<i;)e[o]===u&&(Br.call(e,o--,1),i--);return e}function kt(e,n,t){e=+e||0,t="number"==typeof t?t:+t||1,null==n&&(n=e,e=0);for(var r=-1,i=Wr(0,Tr((n-e)/(t||1))),o=dr(i);++r<i;)o[r]=e,e+=t;return o}function jt(e,t,r){var i=-1,o=e?e.length:0,u=[];for(t=n.createCallback(t,r,3);++i<o;){var a=e[i];t(a,i,e)&&(u.push(a),Br.call(e,i--,1),o--)}return u}function Et(e,t,r){if("number"!=typeof t&&null!=t){var i=0,o=-1,u=e?e.length:0;for(t=n.createCallback(t,r,3);++o<u&&t(e[o],o,e);)i++}else i=null==t||r?1:Wr(0,t);return d(e,i)}function At(e,t,r,i){var o=0,u=e?e.length:o;for(r=r?n.createCallback(r,i,1):Yt,t=r(t);u>o;){var a=o+u>>>1;r(e[a])<t?o=a+1:u=a}return o}function Nt(){return on(Z(arguments,!0,!0))}function Tt(e,t,r,i){return"boolean"!=typeof t&&null!=t&&(i=r,r="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=r&&(r=n.createCallback(r,i,3)),on(e,t,r)}function Rt(e){return Y(e,d(arguments,1))}function Lt(){for(var e=-1,n=arguments.length;++e<n;){var t=arguments[e];if(Yr(t)||hn(t))var r=r?on(Y(r,t).concat(Y(t,r))):t}return r||[]}function qt(){for(var e=arguments.length>1?arguments:arguments[0],n=-1,t=e?nt(hi(e,"length")):0,r=dr(0>t?0:t);++n<t;)r[n]=hi(e,n);return r}function St(e,n){var t=-1,r=e?e.length:0,i={};for(n||!r||Yr(e[0])||(n=[]);++t<r;){var o=e[t];n?i[o]=n[t]:o&&(i[o[0]]=o[1])}return i}function Ot(e,n){if(!Rn(n))throw new xr;return function(){return--e<1?n.apply(this,arguments):void 0}}function $t(e,n){return arguments.length>2?an(e,17,d(arguments,2),null,n):an(e,1,null,null,n)}function Mt(e){for(var n=arguments.length>1?Z(arguments,!0,!1,1):wn(e),t=-1,r=n.length;++t<r;){var i=n[t];e[i]=an(e[i],1,null,null,e)}return e}function Bt(e,n){return arguments.length>2?an(n,19,d(arguments,2),null,e):an(n,3,null,null,e)}function Dt(){for(var e=arguments,n=e.length;n--;)if(!Rn(e[n]))throw new xr;return function(){for(var n=arguments,t=e.length;t--;)n=[e[t].apply(this,n)];return n[0]}}function Ft(e,n){return n="number"==typeof n?n:+n||e.length,an(e,4,null,null,null,n)}function It(e,n,t){var r,i,o,u,a,l,c,f=0,s=!1,p=!0;if(!Rn(e))throw new xr;if(n=Wr(0,n)||0,t===!0){var h=!0;p=!1}else Ln(t)&&(h=t.leading,s="maxWait"in t&&(Wr(n,t.maxWait)||0),p="trailing"in t?t.trailing:p);var d=function(){var t=n-(gi()-u);if(0>=t){i&&Rr(i);var s=c;i=l=c=v,s&&(f=gi(),o=e.apply(a,r),l||i||(r=a=null))}else l=Mr(d,t)},g=function(){l&&Rr(l),i=l=c=v,(p||s!==n)&&(f=gi(),o=e.apply(a,r),l||i||(r=a=null))};return function(){if(r=arguments,u=gi(),a=this,c=p&&(l||!h),s===!1)var t=h&&!l;else{i||h||(f=u);var v=s-(u-f),y=0>=v;y?(i&&(i=Rr(i)),f=u,o=e.apply(a,r)):i||(i=Mr(g,v))}return y&&l?l=Rr(l):l||n===s||(l=Mr(d,n)),t&&(y=!0,o=e.apply(a,r)),!y||l||i||(r=a=null),o}}function Pt(e){if(!Rn(e))throw new xr;var n=d(arguments,1);return Mr(function(){e.apply(v,n)},1)}function Ht(e,n){if(!Rn(e))throw new xr;var t=d(arguments,2);return Mr(function(){e.apply(v,t)},n)}function zt(e,n){if(!Rn(e))throw new xr;var t=function(){var r=t.cache,i=n?n.apply(this,arguments):_+arguments[0];return Or.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return t.cache={},t}function Vt(e){var n,t;if(!Rn(e))throw new xr;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function Wt(e){return an(e,16,d(arguments,1))}function Ut(e){return an(e,32,null,d(arguments,1))}function Kt(e,n,t){var r=!0,i=!0;if(!Rn(e))throw new xr;return t===!1?r=!1:Ln(t)&&(r="leading"in t?t.leading:r,i="trailing"in t?t.trailing:i),K.leading=r,K.maxWait=n,K.trailing=i,It(e,n,K)}function Qt(e,n){return an(n,16,[e])}function Gt(e){return function(){return e}}function Jt(e,n,t){var r=typeof e;if(null==e||"function"==r)return C(e,n,t);if("object"!=r)return tr(e);var i=ei(e),o=i[0],u=e[o];return 1!=i.length||u!==u||Ln(u)?function(n){for(var t=i.length,r=!1;t--&&(r=en(n[i[t]],e[i[t]],null,!0)););return r}:function(e){var n=e[o];return u===n&&(0!==u||1/u==1/n)}}function Xt(e){return null==e?"":Cr(e).replace(ii,ln)}function Yt(e){return e}function Zt(e,r,i){var o=!0,u=r&&wn(r);r&&(i||u.length)||(null==i&&(i=r),a=t,r=e,e=n,u=wn(r)),i===!1?o=!1:Ln(i)&&"chain"in i&&(o=i.chain);var a=e,l=Rn(a);Xn(u,function(n){var t=e[n]=r[n];l&&(a.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,i=[r];$r.apply(i,arguments);var u=t.apply(e,i);if(o||n){if(r===u&&Ln(u))return this;u=new a(u),u.__chain__=n}return u})})}function er(){return e._=Er,this}function nr(){}function tr(e){return function(n){return n[e]}}function rr(e,n,t){var r=null==e,i=null==n;if(null==t&&("boolean"==typeof e&&i?(t=e,e=1):i||"boolean"!=typeof n||(t=n,i=!0)),r&&i&&(n=1),e=+e||0,i?(n=e,e=0):n=+n||0,t||e%1||n%1){var o=Qr();return Ur(e+o*(n-e+parseFloat("1e-"+((o+"").length-1))),n)}return rn(e,n)}function ir(e,n){if(e){var t=e[n];return Rn(t)?e[n]():t}}function or(e,t,r){var i=n.templateSettings;e=Cr(e||""),r=ui({},r,i);var o,u=ui({},r.imports,i.imports),a=ei(u),l=Vn(u),f=0,s=r.interpolate||q,p="__p += '",h=wr((r.escape||q).source+"|"+s.source+"|"+(s===R?A:q).source+"|"+(r.evaluate||q).source+"|$","g");e.replace(h,function(n,t,r,i,u,a){return r||(r=i),p+=e.slice(f,a).replace(O,c),t&&(p+="' +\n__e("+t+") +\n'"),u&&(o=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=a+n.length,n}),p+="';\n";var d=r.variable,g=d;g||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(o?p.replace(k,""):p).replace(j,"$1").replace(E,"$1;"),p="function("+d+") {\n"+(g?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+M++ +"]")+"\n*/";try{var m=yr(a,"return "+p+y).apply(v,l)}catch(b){throw b.source=p,b}return t?m(t):(m.source=p,m)}function ur(e,n,t){e=(e=+e)>-1?e:0;var r=-1,i=dr(e);for(n=C(n,t,1);++r<e;)i[r]=n(r);return i}function ar(e){return null==e?"":Cr(e).replace(ri,pn)}function lr(e){var n=++b;return Cr(null==e?"":e)+n}function cr(e){return e=new t(e),e.__chain__=!0,e}function fr(e,n){return n(e),e}function sr(){return this.__chain__=!0,this}function pr(){return Cr(this.__wrapped__)}function hr(){return this.__wrapped__}e=e?tn.defaults(X.Object(),e,tn.pick(X,$)):X;var dr=e.Array,gr=e.Boolean,vr=e.Date,yr=e.Function,mr=e.Math,br=e.Number,_r=e.Object,wr=e.RegExp,Cr=e.String,xr=e.TypeError,kr=[],jr=_r.prototype,Er=e._,Ar=jr.toString,Nr=wr("^"+Cr(Ar).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Tr=mr.ceil,Rr=e.clearTimeout,Lr=mr.floor,qr=yr.prototype.toString,Sr=fn(Sr=_r.getPrototypeOf)&&Sr,Or=jr.hasOwnProperty,$r=kr.push,Mr=e.setTimeout,Br=kr.splice,Dr=kr.unshift,Fr=function(){try{var e={},n=fn(n=_r.defineProperty)&&n,t=n(e,e,e)&&n}catch(r){}return t}(),Ir=fn(Ir=_r.create)&&Ir,Pr=fn(Pr=dr.isArray)&&Pr,Hr=e.isFinite,zr=e.isNaN,Vr=fn(Vr=_r.keys)&&Vr,Wr=mr.max,Ur=mr.min,Kr=e.parseInt,Qr=mr.random,Gr={};Gr[D]=dr,Gr[F]=gr,Gr[I]=vr,Gr[P]=yr,Gr[z]=_r,Gr[H]=br,Gr[V]=wr,Gr[W]=Cr,t.prototype=n.prototype;var Jr=n.support={};Jr.funcDecomp=!fn(e.WinRTError)&&S.test(g),Jr.funcNames="string"==typeof yr.name,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:n}},Ir||(m=function(){function n(){}return function(t){if(Ln(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var Xr=Fr?function(e,n){Q.value=n,Fr(e,"__bindData__",Q)}:nr,Yr=Pr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ar.call(e)==D||!1},Zr=function(e){var n,t=e,r=[];if(!t)return r;if(!G[typeof e])return r;for(n in t)Or.call(t,n)&&r.push(n);return r},ei=Vr?function(e){return Ln(e)?Vr(e):[]}:Zr,ni={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ti=xn(ni),ri=wr("("+ei(ti).join("|")+")","g"),ii=wr("["+ei(ni).join("")+"]","g"),oi=function(e,n,t){var r,i=e,o=i;if(!i)return o;var u=arguments,a=0,l="number"==typeof t?2:u.length;if(l>3&&"function"==typeof u[l-2])var c=C(u[--l-1],u[l--],2);else l>2&&"function"==typeof u[l-1]&&(c=u[--l]);for(;++a<l;)if(i=u[a],i&&G[typeof i])for(var f=-1,s=G[typeof i]&&ei(i),p=s?s.length:0;++f<p;)r=s[f],o[r]=c?c(o[r],i[r]):i[r];return o},ui=function(e,n,t){var r,i=e,o=i;if(!i)return o;for(var u=arguments,a=0,l="number"==typeof t?2:u.length;++a<l;)if(i=u[a],i&&G[typeof i])for(var c=-1,f=G[typeof i]&&ei(i),s=f?f.length:0;++c<s;)r=f[c],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},ai=function(e,n,t){var r,i=e,o=i;if(!i)return o;if(!G[typeof i])return o;n=n&&"undefined"==typeof t?n:C(n,t,3);for(r in i)if(n(i[r],r,e)===!1)return o;return o},li=function(e,n,t){var r,i=e,o=i;if(!i)return o;if(!G[typeof i])return o;n=n&&"undefined"==typeof t?n:C(n,t,3);for(var u=-1,a=G[typeof i]&&ei(i),l=a?a.length:0;++u<l;)if(r=a[u],n(i[r],r,e)===!1)return o;return o},ci=Sr?function(e){if(!e||Ar.call(e)!=z)return!1;var n=e.valueOf,t=fn(n)&&(t=Sr(n))&&Sr(t);return t?e==t||Sr(e)==t:sn(e)}:sn,fi=un(function(e,n,t){Or.call(e,t)?e[t]++:e[t]=1}),si=un(function(e,n,t){(Or.call(e,t)?e[t]:e[t]=[]).push(n)}),pi=un(function(e,n,t){e[t]=n}),hi=et,di=Qn,gi=fn(gi=vr.now)&&gi||function(){return(new vr).getTime()},vi=8==Kr(x+"08")?Kr:function(e,n){return Kr(Mn(e)?e.replace(L,""):e,n||0)};return n.after=Ot,n.assign=oi,n.at=Wn,n.bind=$t,n.bindAll=Mt,n.bindKey=Bt,n.chain=cr,n.compact=pt,n.compose=Dt,n.constant=Gt,n.countBy=fi,n.create=vn,n.createCallback=Jt,n.curry=Ft,n.debounce=It,n.defaults=ui,n.defer=Pt,n.delay=Ht,n.difference=ht,n.filter=Qn,n.flatten=yt,n.forEach=Xn,n.forEachRight=Yn,n.forIn=ai,n.forInRight=bn,n.forOwn=li,n.forOwnRight=_n,n.functions=wn,n.groupBy=si,n.indexBy=pi,n.initial=bt,n.intersection=_t,n.invert=xn,n.invoke=Zn,n.keys=ei,n.map=et,n.mapValues=Dn,n.max=nt,n.memoize=zt,n.merge=Fn,n.min=tt,n.omit=In,n.once=Vt,n.pairs=Pn,n.partial=Wt,n.partialRight=Ut,n.pick=Hn,n.pluck=hi,n.property=tr,n.pull=xt,n.range=kt,n.reject=ot,n.remove=jt,n.rest=Et,n.shuffle=at,n.sortBy=ft,n.tap=fr,n.throttle=Kt,n.times=ur,n.toArray=st,n.transform=zn,n.union=Nt,n.uniq=Tt,n.values=Vn,n.where=di,n.without=Rt,n.wrap=Qt,n.xor=Lt,n.zip=qt,n.zipObject=St,n.collect=et,n.drop=Et,n.each=Xn,n.eachRight=Yn,n.extend=oi,n.methods=wn,n.object=St,n.select=Qn,n.tail=Et,n.unique=Tt,n.unzip=qt,Zt(n),n.clone=dn,n.cloneDeep=gn,n.contains=Un,n.escape=Xt,n.every=Kn,n.find=Gn,n.findIndex=dt,n.findKey=yn,n.findLast=Jn,n.findLastIndex=gt,n.findLastKey=mn,n.has=Cn,n.identity=Yt,n.indexOf=mt,n.isArguments=hn,n.isArray=Yr,n.isBoolean=kn,n.isDate=jn,n.isElement=En,n.isEmpty=An,n.isEqual=Nn,n.isFinite=Tn,n.isFunction=Rn,n.isNaN=qn,n.isNull=Sn,n.isNumber=On,n.isObject=Ln,n.isPlainObject=ci,n.isRegExp=$n,n.isString=Mn,n.isUndefined=Bn,n.lastIndexOf=Ct,n.mixin=Zt,n.noConflict=er,n.noop=nr,n.now=gi,n.parseInt=vi,n.random=rr,n.reduce=rt,n.reduceRight=it,n.result=ir,n.runInContext=g,n.size=lt,n.some=ct,n.sortedIndex=At,n.template=or,n.unescape=ar,n.uniqueId=lr,n.all=Kn,n.any=ct,n.detect=Gn,n.findWhere=Gn,n.foldl=rt,n.foldr=it,n.include=Un,n.inject=rt,Zt(function(){var e={};
return li(n,function(t,r){n.prototype[r]||(e[r]=t)}),e}(),!1),n.first=vt,n.last=wt,n.sample=ut,n.take=vt,n.head=vt,li(n,function(e,r){var i="sample"!==r;n.prototype[r]||(n.prototype[r]=function(n,r){var o=this.__chain__,u=e(this.__wrapped__,n,r);return o||null!=n&&(!r||i&&"function"==typeof n)?new t(u,o):u})}),n.VERSION="2.4.1",n.prototype.chain=sr,n.prototype.toString=pr,n.prototype.value=hr,n.prototype.valueOf=hr,Xn(["join","pop","shift"],function(e){var r=kr[e];n.prototype[e]=function(){var e=this.__chain__,n=r.apply(this.__wrapped__,arguments);return e?new t(n,e):n}}),Xn(["push","reverse","sort","unshift"],function(e){var t=kr[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xn(["concat","slice","splice"],function(e){var r=kr[e];n.prototype[e]=function(){return new t(r.apply(this.__wrapped__,arguments),this.__chain__)}}),n}var v,y=[],m=[],b=0,_=+new Date+"",w=75,C=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",k=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,R=/<%=([\s\S]+?)%>/g,L=RegExp("^["+x+"]*0+(?=.$)"),q=/($^)/,S=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,$=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],M=0,B="[object Arguments]",D="[object Array]",F="[object Boolean]",I="[object Date]",P="[object Function]",H="[object Number]",z="[object Object]",V="[object RegExp]",W="[object String]",U={};U[P]=!1,U[B]=U[D]=U[F]=U[I]=U[H]=U[z]=U[V]=U[W]=!0;var K={leading:!1,maxWait:0,trailing:!1},Q={configurable:!1,enumerable:!1,value:null,writable:!1},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=G[typeof window]&&window||this,Y=G[typeof t]&&t&&!t.nodeType&&t,Z=G[typeof n]&&n&&!n.nodeType&&n,en=Z&&Z.exports===Y&&Y,nn=G[typeof e]&&e;!nn||nn.global!==nn&&nn.window!==nn||(X=nn);var tn=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=tn,define(function(){return tn})):Y&&Z?en?(Z.exports=tn)._=tn:Y._=tn:X._=tn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(){!function(e,n){function t(e,t,r){var i=" to exec 「"+t+"」 command"+(r?" with value: "+r:"");n.execCommand(t,!1,r)?w.log("success"+i):w.log("fail"+i,!0)}function r(e,n){var r=p(e);if(r)return e._range.selectNode(r),e._range.collapse(!1),t(e,n)}function i(e,n){var r=h(e,p(e),!0);return-1!==r.indexOf(n)&&(n="p"),t(e,"formatblock",n)}function o(e,n){var r="<"+n+">"+_+"</"+n+">";return t(e,"insertHTML",r)}function u(e){var n=e.config.editor;e._placeholder=n.getAttribute("data-placeholder"),e.placeholder()}function a(e){var t="";w.forEach(e.config.list,function(e){var n="pen-icon icon-"+e;t+='<i class="'+n+'" data-action="'+e+'"></i>',"createlink"===e&&(t+='<input class="pen-input" placeholder="http://" />')},!0),e._menu=n.createElement("div"),e._menu.setAttribute("class",e.config.class+"-menu pen-menu"),e._menu.innerHTML=t,e._menu.style.display="none",n.body.appendChild(e._menu)}function l(e){var t=e._menu,r=e.config.editor,i=function(){"block"===t.style.display&&e.menu()};c(e,window,"resize",i),c(e,window,"scroll",i);var o=w.delayExec(function(){_.isCollapsed?e._menu.style.display="none":e.menu().highlight()}),u=function(n){e._range=e.getRange(),o(n)},a=!1;c(e,r,"mousedown",function(){a=!0}),c(e,r,"mouseleave",function(){a&&u(400),a=!1}),c(e,r,"mouseup",function(){a&&u(0),a=!1}),c(e,r,"keyup",function(n){8===n.which&&e.isEmpty()?d(e,!0):u(400)}),c(e,r,"keydown",function(t){if(13===t.which&&!t.shiftKey){var i=p(e,!0);if(i&&j.test(i.nodeName)){t.preventDefault();var o=n.createElement("p");o.innerHTML="<br>",i.nextSibling?r.insertBefore(o,i.nextSibling):r.appendChild(o),g(e,o,e.getRange())}}});var l=function(n,t){e.execCommand(n,t),e._range=e.getRange(),_.isCollapsed||e.highlight().menu()};c(e,t,"click",function(e){var n=e.target.getAttribute("data-action");if(n){if("createlink"!==n)return l(n);var r=t.getElementsByTagName("input")[0];r.style.display="block",r.focus();var i=function(e){if(e.style.display="none",e.value){var t=e.value.replace(A.whiteSpace,"").replace(A.mailTo,"mailto:$1").replace(A.http,"http://$1");return l(n,t)}n="unlink",l(n)};r.onkeypress=function(e){return 13===e.which?i(e.target):void 0}}}),c(e,r,"focus",function(){e.isEmpty()&&d(e,!0),r.classList.remove("pen-placeholder")}),c(e,r,"blur",function(){e.placeholder(),e.checkContentChange()}),c(e,r,"paste",function(){setTimeout(function(){e.cleanContent()})})}function c(e,n,t,r){if(e._events.hasOwnProperty(t))e._events[t].push(r);else{e._eventTargets=e._eventTargets||[],e._eventsCache=e._eventsCache||[];var i=e._eventTargets.indexOf(n);0>i&&(i=e._eventTargets.push(n)-1),e._eventsCache[i]=e._eventsCache[i]||{},e._eventsCache[i][t]=e._eventsCache[i][t]||[],e._eventsCache[i][t].push(r),n.addEventListener(t,r,!1)}return e}function f(e,n){if(e._events.hasOwnProperty(n)){var t=x.call(arguments,2);w.forEach(e._events[n],function(n){n.apply(e,t)})}}function s(e){return w.forEach(this._events,function(e){e.length=0},!1),e._eventsCache?(w.forEach(e._eventsCache,function(n,t){var r=e._eventTargets[t];w.forEach(n,function(e,n){w.forEach(e,function(e){r.removeEventListener(n,e,!1)},!0)},!1)},!0),e._eventTargets=[],e._eventsCache=[],e):e}function p(e,n){var t,r=e.config.editor;if(e._range=e.getRange(),t=e._range.commonAncestorContainer,!t||t===r)return null;for(;t&&1!==t.nodeType&&t.parentNode!==r;)t=t.parentNode;for(;t&&n&&t.parentNode!==r;)t=t.parentNode;return r.contains(t)?t:null}function h(e,n,t){var r=[];for(n=n||e.config.editor;n!==e.config.editor;)n.nodeName.match(E)&&r.push(t?n.nodeName.toLowerCase():n),n=n.parentNode;return r}function d(e,t){var r=e._range=e.getRange(),i=n.createElement("p");t&&(e.config.editor.innerHTML=""),i.innerHTML="<br>",r.insertNode(i),g(e,i.childNodes[0],r)}function g(e,n,t){t.setStartAfter(n),t.setEndBefore(n),t.collapse(!1),e.setRange(t)}function v(e){if(1===e.nodeType){if(N.notLink.test(e.tagName))return;w.forEach(e.childNodes,function(e){v(e)},!0)}else if(3===e.nodeType){var t=y(e.nodeValue||"");if(!t.links)return;var r=n.createDocumentFragment(),i=n.createElement("div");for(i.innerHTML=t.text;i.childNodes.length;)r.appendChild(i.childNodes[0]);e.parentNode.replaceChild(r,e)}}function y(e){var n=0;return e=e.replace(N.url,function(e){var t=e,r=e;return n++,e.length>N.maxLength&&(r=e.slice(0,N.maxLength)+"..."),N.prefix.test(t)||(t="http://"+t),'<a href="'+t+'">'+r+"</a>"}),{links:n,text:e}}var m,b,_,w={},C=Object.prototype.toString,x=Array.prototype.slice,k={block:/^(?:p|h[1-6]|blockquote|pre)$/,inline:/^(?:bold|italic|underline|insertorderedlist|insertunorderedlist|indent|outdent)$/,source:/^(?:insertimage|createlink|unlink)$/,insert:/^(?:inserthorizontalrule|insert)$/,wrap:/^(?:code)$/},j=/^(?:blockquote|pre|div)$/i,E=/(?:[pubia]|h[1-6]|blockquote|[uo]l|li)/i,A={whiteSpace:/(^\s+)|(\s+$)/g,mailTo:/^(?!mailto:|.+\/|.+#|.+\?)(.*@.*\..+)$/,http:/^(?!\w+?:\/\/|mailto:|\/|\.\/|\?|#)(.*)$/},N={url:/((https?|ftp):\/\/|www\.)[^\s<]{3,}/gi,prefix:/^(?:https?|ftp):\/\//i,notLink:/^(?:img|a|input|audio|video|source|code|pre|script|head|title|style)$/i,maxLength:100};w.is=function(e,n){return C.call(e).slice(8,-1)===n},w.forEach=function(e,n,t){if(e)if(null==t&&(t=w.is(e,"Array")),t)for(var r=0,i=e.length;i>r;r++)n(e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&n(e[o],o,e)},w.copy=function(e,n){return w.forEach(n,function(n,t){e[t]=w.is(n,"Object")?w.copy({},n):w.is(n,"Array")?w.copy([],n):n}),e},w.log=function(e,n){(b||n)&&console.log("%cPEN DEBUGGER: %c"+e,"font-family:arial,sans-serif;color:#1abf89;line-height:2em;","font-family:cursor,monospace;color:#333;")},w.delayExec=function(e){var n=null;return function(t){clearTimeout(n),n=setTimeout(function(){e()},t||1)}},w.merge=function(e){var t={"class":"pen",debug:!1,stay:e.stay||!e.debug,stayMsg:"Are you going to leave here?",textarea:'<textarea name="content"></textarea>',list:["blockquote","h2","h3","p","code","insertorderedlist","insertunorderedlist","inserthorizontalrule","indent","outdent","bold","italic","underline","createlink"],cleanAttrs:["id","class","style","name"],cleanTags:["script"]};return 1===e.nodeType?t.editor=e:e.match&&e.match(/^#[\S]+$/)?t.editor=n.getElementById(e.slice(1)):t=w.copy(t,e),t},m=function(e){if(!e)throw new Error("Can't find config");b=e.debug;var n=w.merge(e),t=n.editor;if(!t||1!==t.nodeType)throw new Error("Can't find editor");t.classList.add(n.class),t.setAttribute("contenteditable","true"),this.config=n,this.selection=_,this._events={change:[]},a(this),u(this),l(this),this._prevContent=this.getContent(),this.markdown&&this.markdown.init(this),this.config.stay&&this.stay(this.config)},m.prototype.on=function(e,n){return c(this,this.config.editor,e,n),this},m.prototype.placeholder=function(e){var n=this.config.editor;return e&&(this._placeholder=e+""),this._placeholder&&this.isEmpty()?(n.innerHTML=this._placeholder,n.classList.add("pen-placeholder"),!0):(n.classList.remove("pen-placeholder"),!1)},m.prototype.isEmpty=function(e){if(e=e||this.config.editor,e.classList.contains("pen-placeholder"))return!0;var n=e.textContent&&e.textContent.trim();return!n&&!e.querySelectorAll("img").length},m.prototype.getContent=function(){return this.isEmpty()?"":this.config.editor.innerHTML},m.prototype.setContent=function(e){return this.config.editor.innerHTML=e,this.cleanContent(),this},m.prototype.checkContentChange=function(){var e=this._prevContent,n=this.getContent();e!==n&&(this._prevContent=n,f(this,"change",n,e))},m.prototype.getRange=function(){var e=this.config.editor,t=_.rangeCount&&_.getRangeAt(0);return t||(t=n.createRange()),e.contains(t.commonAncestorContainer)||(t.selectNodeContents(e),t.collapse(!1)),t},m.prototype.setRange=function(e){return e=e||this._range,e||(e=this.getRange(),e.collapse(!1)),_.removeAllRanges(),_.addRange(e),this},m.prototype.focus=function(e){return e||this.setRange(),this.config.editor.focus(),this},m.prototype.execCommand=function(e,n){this.isEmpty()&&(this.config.editor.innerHTML="",this.config.editor.classList.remove("pen-placeholder")),e=e.toLowerCase(),this.setRange(),k.block.test(e)?i(this,e):k.inline.test(e)||k.source.test(e)?t(this,e,n):k.insert.test(e)?r(this,e):k.wrap.test(e)?o(this,e):w.log("can not find command function for name: "+e+(n?", value: "+n:""),!0),"indent"===e?this.checkContentChange():this.cleanContent({cleanAttrs:["style"]})},m.prototype.cleanContent=function(e){var n=this.config.editor;return e||(e=this.config),w.forEach(e.cleanAttrs,function(e){w.forEach(n.querySelectorAll("["+e+"]"),function(n){n.removeAttribute(e)},!0)},!0),w.forEach(e.cleanTags,function(e){w.forEach(n.querySelectorAll(e),function(e){e.parentNode.removeChild(e)},!0)},!0),this.placeholder(),this.checkContentChange(),this},m.prototype.autoLink=function(){return v(this.config.editor),this.getContent()},m.prototype.highlight=function(){var e,n=_.focusNode,t=h(this,n),r=this._menu,i=r.querySelector("input");return w.forEach(r.querySelectorAll(".active"),function(e){e.classList.remove("active")},!0),i&&(i.style.display="none",i.value=""),e=function(e){var n=".icon-"+e,t=r.querySelector(n);return t&&t.classList.add("active")},w.forEach(t,function(n){var t=n.nodeName.toLowerCase();switch(t){case"a":r.querySelector("input").value=n.getAttribute("href"),t="createlink";break;case"i":t="italic";break;case"u":t="underline";break;case"b":t="bold";break;case"code":t="code";break;case"ul":t="insertunorderedlist";break;case"ol":t="insertorderedlist";break;case"li":t="indent"}e(t)},!0),this},m.prototype.menu=function(){var e=this._range.getBoundingClientRect(),n=10,t=e.top-n,r=e.left+e.width/2,i=this._menu,o={x:0,y:0},u=this._stylesheet;if(void 0===this._stylesheet){var a=document.createElement("style");document.head.appendChild(a),this._stylesheet=u=a.sheet}return i.style.display="block",o.x=r-i.clientWidth/2,o.y=t-i.clientHeight,u.cssRules.length>0&&u.deleteRule(0),o.x<0?(o.x=0,u.insertRule(".pen-menu:after {left: "+r+"px;}",0)):u.insertRule(".pen-menu:after {left: 50%; }",0),o.y<0?(i.classList.toggle("pen-menu-below",!0),o.y=e.top+e.height+n):i.classList.toggle("pen-menu-below",!1),i.style.top=o.y+"px",i.style.left=o.x+"px",this},m.prototype.stay=function(e){var n=this;window.onbeforeunload||(window.onbeforeunload=function(){return n._isDestroyed?void 0:e.stayMsg})},m.prototype.destroy=function(e){var n=e?!1:!0,t=e?"setAttribute":"removeAttribute";return e?(a(this),u(this),l(this)):(s(this),_.removeAllRanges(),this._menu.parentNode.removeChild(this._menu)),this._isDestroyed=n,this.config.editor[t]("contenteditable",""),this},m.prototype.rebuild=function(){return this.destroy("it's a joke")},e.Pen=function(e){if(!e)return w.log("can't find config",!0);var n=w.merge(e),t=n.editor.getAttribute("class");return t=t?t.replace(/\bpen\b/g,"")+" pen-textarea "+n.class:"pen pen-textarea",n.editor.setAttribute("class",t),n.editor.innerHTML=n.textarea,n.editor},n.getSelection&&(_=n.getSelection(),e.Pen=m)}(window,document)},{}]},{},[1]);